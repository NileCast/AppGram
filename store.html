<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NileCast: Connecting You to TV Worldwide</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--tg-theme-bg-color, #ffffff);
            color: var(--tg-theme-text-color, #000000);
        }

        .container {
            max-width: 390px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .app-icon {
            width: 64px;
            height: 64px;
            margin-right: 20px;
            border-radius: 12px;
        }

        .app-info h1 {
            margin: 0;
            font-size: 17px;
            font-weight: 600;
        }

        .app-info p {
            margin: 4px 0;
            font-size: 13px;
            color: var(--tg-theme-hint-color, #999999);
        }

        .app-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 12px 20px;
            border-top: 1px solid var(--tg-theme-hint-color, #e0e0e0);
            border-bottom: 1px solid var(--tg-theme-hint-color, #e0e0e0);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 15px;
            font-weight: 500;
        }

        .stat-label {
            font-size: 13px;
            color: var(--tg-theme-hint-color, #999999);
        }

        /* Style for Powered by AppGram Inc. */
        .powered-by {
            text-align: center;
            font-size: 13px;
            color: var(--tg-theme-hint-color, #999999);
            margin-top: 20px;
        }


        /* .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .button {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
            transition: background-color 0.3s;
        }

        #installBtn {
            background-color: var(--tg-theme-button-color, #50a8eb);
            color: var(--tg-theme-button-text-color, #ffffff);
            margin-right: 8px;
            position: relative;
        }

        #shareBtn {
            background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
            color: var(--tg-theme-text-color, #000000);
            margin-left: 8px;
        } */

        /* Full Width downlod button */
        .button-container {
            display: flex;
            justify-content: center;
            /* Center the Install button */
            margin-top: 20px;
        }

        .button {
            flex: none;
            /* Prevent shrinking */
            width: 100%;
            /* Full width button */
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            text-align: center;
            transition: background-color 0.3s;
        }

        #installBtn {
            background-color: var(--tg-theme-button-color, #EB004F);
            color: var(--tg-theme-button-text-color, #ffffff);
            position: relative;
        }


        /* New Indicator Style */
        .update-indicator {
            background-color: white;
            /* Red background */
            color: black;
            font-size: 10px;
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 8px;
            vertical-align: middle;
            display: inline-block;
        }

        .screenshots-container {
            margin-top: 20px;
            overflow: hidden;
        }

        .screenshots {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .screenshots::-webkit-scrollbar {
            display: none;
        }

        .screenshot {
            flex: 0 0 auto;
            width: 200px;
            height: 355px;
            margin-right: 10px;
            scroll-snap-align: start;
            border-radius: 8px;
            object-fit: cover;
        }

        .section-title {
            margin-top: 30px;
            font-size: 17px;
            font-weight: 600;
        }

        .tags {
            margin-top: 10px;
        }

        .tag {
            display: inline-block;
            background-color: var(--tg-theme-secondary-bg-color, #f0f0f0);
            color: var(--tg-theme-text-color, #000000);
            padding: 6px 12px;
            border-radius: 16px;
            margin-right: 8px;
            margin-bottom: 8px;
            font-size: 13px;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <img src="https://github.com/NileCast/AppGram/blob/2f8dcf9a495287bc7793c73df3fb7b07dea48e97/assets/Nilecast-Logo.png?raw=true"
                alt="NileCast icon" class="app-icon">
            <div class="app-info">
                <h1>NileCast: Connecting You to TV Worldwide</h1>
                <p>Nile Broadcasting, Inc.</p>
                <p>nilecast.tv</p>
            </div>
        </div>

        <div class="app-stats">
            <div class="stat-item">
                <div class="stat-value">53 MB</div>
                <div class="stat-label">Size</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">100K</div>
                <div class="stat-label">Downloads</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">8000+</div>
                <div class="stat-label">Reviews</div>
            </div>
        </div>

        <div class="button-container">
            <button id="installBtn" class="button">
                Install
                <span id="updateIndicator" class="update-indicator">New</span> <!-- New Indicator -->
            </button>
            <!-- <button id="shareBtn" class="button">Share</button> -->
        </div>

        <div class="screenshots-container">
            <div id="screenshots" class="screenshots">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen0.jpg?raw=true"
                    alt="NileCast screenshot 1" class="screenshot">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen1.jpg?raw=true"
                    alt="NileCast screenshot 2" class="screenshot">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen2.jpg?raw=true"
                    alt="NileCast screenshot 3" class="screenshot">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen3.jpg?raw=true"
                    alt="NileCast screenshot 4" class="screenshot">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen4.jpg?raw=true"
                    alt="NileCast screenshot 5" class="screenshot">
                <img src="https://github.com/NileCast/AppGram/blob/main/assets/screenshots/screen5.jpg?raw=true"
                    alt="NileCast screenshot 6" class="screenshot">
            </div>
        </div>

        <h2 id="about-this-app" class="section-title">About This App</h2>
        <div class="tags">
            <span class="tag">Entertainment</span>
            <span class="tag">Streaming Content</span>
            <span class="tag">Live TV</span>
        </div>
        <p>NileCast brings you live TV streaming from Africa and beyond. Whether you're at home or on the go, access
            your favorite African and international channels with just a tap. Stream sports, movies, news,
            entertainment, and moreâ€”all in one convenient app.</p>
        <p class="powered-by">Powered by AppGram Inc.</p>

    </div>

    <script>
        let tg = window.Telegram.WebApp;

        const installBtn = document.getElementById('installBtn');
        const shareBtn = document.getElementById('shareBtn');

        // Install button functionality
        installBtn.addEventListener('click', function () {
            if (this.textContent.includes('Install')) {
                initiateDownload();
                document.getElementById('updateIndicator').style.display = 'none'; // Hide the "New" indicator after install
            }
        });

        // Share button functionality - Share the NileCast Bot link using Telegram's share functionality
        shareBtn.addEventListener('click', function () {
            if (window.Telegram && window.Telegram.WebApp) {
                // Use the openTelegramLink method to open the bot link
                window.Telegram.WebApp.openTelegramLink('https://t.me/NileCast_Bot');
            } else {
                console.error('Telegram WebApp is not available');
            }
        });

        // Function to initiate download of APK
        function initiateDownload() {
            const downloadUrl = 'https://d37m5rhpf2i75e.cloudfront.net/NileCastV01.apk';

            tg.showAlert('Download starting. Please check your notifications.');
            window.open(downloadUrl, '_blank'); // Open the APK download URL in a new tab/window
        }
    </script>
</body>

</html>